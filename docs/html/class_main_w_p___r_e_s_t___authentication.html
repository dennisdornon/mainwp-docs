<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MainWP: MainWP_REST_Authentication Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">MainWP
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('class_main_w_p___r_e_s_t___authentication.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="class_main_w_p___r_e_s_t___authentication-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">MainWP_REST_Authentication Class Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a226ee116d3d1b7e9eb73c6653d0fadf8" id="r_a226ee116d3d1b7e9eb73c6653d0fadf8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a226ee116d3d1b7e9eb73c6653d0fadf8">__construct</a> ()</td></tr>
<tr class="separator:a226ee116d3d1b7e9eb73c6653d0fadf8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53691909e06037edd868b194d8f14424" id="r_a53691909e06037edd868b194d8f14424"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a53691909e06037edd868b194d8f14424">authenticate</a> ( $user_id)</td></tr>
<tr class="separator:a53691909e06037edd868b194d8f14424"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a426cc16c5fa6ec648880e86d7273a2" id="r_a4a426cc16c5fa6ec648880e86d7273a2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4a426cc16c5fa6ec648880e86d7273a2">authentication_fallback</a> ( $error)</td></tr>
<tr class="separator:a4a426cc16c5fa6ec648880e86d7273a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a866f23edbd0468d255b2dbd35c7f1b64" id="r_a866f23edbd0468d255b2dbd35c7f1b64"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a866f23edbd0468d255b2dbd35c7f1b64">check_authentication_error</a> ( $error)</td></tr>
<tr class="separator:a866f23edbd0468d255b2dbd35c7f1b64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a079678921929ff1c472bb6079bf20688" id="r_a079678921929ff1c472bb6079bf20688"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a079678921929ff1c472bb6079bf20688">parse_header</a> ( $header)</td></tr>
<tr class="separator:a079678921929ff1c472bb6079bf20688"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa5e7088d7491ed5fc331f04695d0fcd" id="r_afa5e7088d7491ed5fc331f04695d0fcd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afa5e7088d7491ed5fc331f04695d0fcd">parse_auth_header</a> ( $header)</td></tr>
<tr class="separator:afa5e7088d7491ed5fc331f04695d0fcd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac717799d294aae43f1b61673afc03280" id="r_ac717799d294aae43f1b61673afc03280"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac717799d294aae43f1b61673afc03280">get_authorization_header</a> ()</td></tr>
<tr class="separator:ac717799d294aae43f1b61673afc03280"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9fc5d3cb0a9e195048380c90560e3a8" id="r_ac9fc5d3cb0a9e195048380c90560e3a8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac9fc5d3cb0a9e195048380c90560e3a8">get_oauth_parameters</a> ()</td></tr>
<tr class="separator:ac9fc5d3cb0a9e195048380c90560e3a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a854a3b84418f4f3e3f33d955454b434f" id="r_a854a3b84418f4f3e3f33d955454b434f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a854a3b84418f4f3e3f33d955454b434f">send_unauthorized_headers</a> ( $response)</td></tr>
<tr class="separator:a854a3b84418f4f3e3f33d955454b434f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41cbb28a329f144426bfb1fe57b31d23" id="r_a41cbb28a329f144426bfb1fe57b31d23"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a41cbb28a329f144426bfb1fe57b31d23">check_user_permissions</a> ( $result, $server, $request)</td></tr>
<tr class="separator:a41cbb28a329f144426bfb1fe57b31d23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e5d7363da84ac588deef55e9ed9fe89" id="r_a3e5d7363da84ac588deef55e9ed9fe89"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3e5d7363da84ac588deef55e9ed9fe89">get_rest_valid_user</a> ()</td></tr>
<tr class="separator:a3e5d7363da84ac588deef55e9ed9fe89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a954bd257e5a664efc619d17f70b00a74" id="r_a954bd257e5a664efc619d17f70b00a74"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a954bd257e5a664efc619d17f70b00a74">is_valid_permissions</a> ( $request)</td></tr>
<tr class="separator:a954bd257e5a664efc619d17f70b00a74"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:abb37135162b8dec3e072e34cb9a12a2e" id="r_abb37135162b8dec3e072e34cb9a12a2e"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abb37135162b8dec3e072e34cb9a12a2e">get_instance</a> ()</td></tr>
<tr class="separator:abb37135162b8dec3e072e34cb9a12a2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80221375d80c88d040e42199d8eb34cb" id="r_a80221375d80c88d040e42199d8eb34cb"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a80221375d80c88d040e42199d8eb34cb">init</a> ()</td></tr>
<tr class="separator:a80221375d80c88d040e42199d8eb34cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-attribs" name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a5066f8475d0a4a391cb104f4919cfdff" id="r_a5066f8475d0a4a391cb104f4919cfdff"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5066f8475d0a4a391cb104f4919cfdff">$instance</a> = null</td></tr>
<tr class="separator:a5066f8475d0a4a391cb104f4919cfdff"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:aaafbff83c7288f098a932f914b556672" id="r_aaafbff83c7288f098a932f914b556672"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aaafbff83c7288f098a932f914b556672">is_request_to_rest_api</a> ()</td></tr>
<tr class="separator:aaafbff83c7288f098a932f914b556672"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a77a0b0a5fecc2de98821099d3a4067" id="r_a7a77a0b0a5fecc2de98821099d3a4067"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7a77a0b0a5fecc2de98821099d3a4067">set_error</a> ( $error)</td></tr>
<tr class="separator:a7a77a0b0a5fecc2de98821099d3a4067"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b094ecc66c318aef9cac00c18e62d0f" id="r_a0b094ecc66c318aef9cac00c18e62d0f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0b094ecc66c318aef9cac00c18e62d0f">get_error</a> ()</td></tr>
<tr class="separator:a0b094ecc66c318aef9cac00c18e62d0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a8f1014d53946fc4235ba12a3f061e9ea" id="r_a8f1014d53946fc4235ba12a3f061e9ea"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8f1014d53946fc4235ba12a3f061e9ea">$error</a> = null</td></tr>
<tr class="separator:a8f1014d53946fc4235ba12a3f061e9ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affbe7d3023ec09d5e3f68cf6abfb09c5" id="r_affbe7d3023ec09d5e3f68cf6abfb09c5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#affbe7d3023ec09d5e3f68cf6abfb09c5">$user</a> = null</td></tr>
<tr class="separator:affbe7d3023ec09d5e3f68cf6abfb09c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6fb7023d46883868e1327f4535b55168" id="r_a6fb7023d46883868e1327f4535b55168"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6fb7023d46883868e1327f4535b55168">$auth_method</a> = ''</td></tr>
<tr class="separator:a6fb7023d46883868e1327f4535b55168"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>REST API authentication class. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a226ee116d3d1b7e9eb73c6653d0fadf8" name="a226ee116d3d1b7e9eb73c6653d0fadf8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a226ee116d3d1b7e9eb73c6653d0fadf8">&#9670;&#160;</a></span>__construct()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MainWP_REST_Authentication::__construct </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize authentication actions. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a53691909e06037edd868b194d8f14424" name="a53691909e06037edd868b194d8f14424"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53691909e06037edd868b194d8f14424">&#9670;&#160;</a></span>authenticate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MainWP_REST_Authentication::authenticate </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$user_id</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Authenticate user.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int&#160;|&#160;false</td><td class="paramname">$user_id</td><td>User ID if one has been determined, false otherwise. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int|false </dd></dl>

</div>
</div>
<a id="a4a426cc16c5fa6ec648880e86d7273a2" name="a4a426cc16c5fa6ec648880e86d7273a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a426cc16c5fa6ec648880e86d7273a2">&#9670;&#160;</a></span>authentication_fallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MainWP_REST_Authentication::authentication_fallback </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$error</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Authenticate the user if authentication wasn't performed during the determine_current_user action.</p>
<p>Necessary in cases where wp_get_current_user() is called before the plugin is loaded.</p>
<dl class="section see"><dt>See also</dt><dd><a href="https://github.com/woocommerce/woocommerce/issues/26847">https://github.com/woocommerce/woocommerce/issues/26847</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">WP_Error&#160;|&#160;null&#160;|&#160;bool</td><td class="paramname">$error</td><td>Error data. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>WP_Error|null|bool </dd></dl>

</div>
</div>
<a id="a866f23edbd0468d255b2dbd35c7f1b64" name="a866f23edbd0468d255b2dbd35c7f1b64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a866f23edbd0468d255b2dbd35c7f1b64">&#9670;&#160;</a></span>check_authentication_error()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MainWP_REST_Authentication::check_authentication_error </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$error</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Check for authentication error.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">WP_Error&#160;|&#160;null&#160;|&#160;bool</td><td class="paramname">$error</td><td>Error data. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>WP_Error|null|bool </dd></dl>

</div>
</div>
<a id="a41cbb28a329f144426bfb1fe57b31d23" name="a41cbb28a329f144426bfb1fe57b31d23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41cbb28a329f144426bfb1fe57b31d23">&#9670;&#160;</a></span>check_user_permissions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MainWP_REST_Authentication::check_user_permissions </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$result</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$server</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$request</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Check for user permissions and register last access.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">mixed</td><td class="paramname">$result</td><td>Response to replace the requested version with. </td></tr>
    <tr><td class="paramtype">WP_REST_Server</td><td class="paramname">$server</td><td>Server instance. </td></tr>
    <tr><td class="paramtype">WP_REST_Request</td><td class="paramname">$request</td><td>Request used to generate the response. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>mixed </dd></dl>

</div>
</div>
<a id="ac717799d294aae43f1b61673afc03280" name="ac717799d294aae43f1b61673afc03280"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac717799d294aae43f1b61673afc03280">&#9670;&#160;</a></span>get_authorization_header()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MainWP_REST_Authentication::get_authorization_header </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the authorization header.</p>
<p>On certain systems and configurations, the Authorization header will be stripped out by the server or PHP. Typically this is then used to generate <code>PHP_AUTH_USER</code>/<code>PHP_AUTH_PASS</code> but not passed on. We use <code>getallheaders</code> here to try and grab it out instead.</p>
<dl class="section since"><dt>Since</dt><dd>3.0.0</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>string Authorization header if set. </dd></dl>

</div>
</div>
<a id="a0b094ecc66c318aef9cac00c18e62d0f" name="a0b094ecc66c318aef9cac00c18e62d0f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b094ecc66c318aef9cac00c18e62d0f">&#9670;&#160;</a></span>get_error()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">MainWP_REST_Authentication::get_error </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get authentication error.</p>
<dl class="section return"><dt>Returns</dt><dd>WP_Error|null. </dd></dl>

</div>
</div>
<a id="abb37135162b8dec3e072e34cb9a12a2e" name="abb37135162b8dec3e072e34cb9a12a2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb37135162b8dec3e072e34cb9a12a2e">&#9670;&#160;</a></span>get_instance()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static MainWP_REST_Authentication::get_instance </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get Instance</p>
<p>Creates public static instance.</p>
<dl class="section return"><dt>Returns</dt><dd>class instance. </dd></dl>

</div>
</div>
<a id="ac9fc5d3cb0a9e195048380c90560e3a8" name="ac9fc5d3cb0a9e195048380c90560e3a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9fc5d3cb0a9e195048380c90560e3a8">&#9670;&#160;</a></span>get_oauth_parameters()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MainWP_REST_Authentication::get_oauth_parameters </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get oAuth parameters from $_GET, $_POST or request header.</p>
<dl class="section since"><dt>Since</dt><dd>3.0.0</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>array|WP_Error </dd></dl>

</div>
</div>
<a id="a3e5d7363da84ac588deef55e9ed9fe89" name="a3e5d7363da84ac588deef55e9ed9fe89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e5d7363da84ac588deef55e9ed9fe89">&#9670;&#160;</a></span>get_rest_valid_user()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MainWP_REST_Authentication::get_rest_valid_user </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Method <a class="el" href="#a3e5d7363da84ac588deef55e9ed9fe89">get_rest_valid_user()</a>.</p>
<dl class="section return"><dt>Returns</dt><dd>mixed|object User api key object. </dd></dl>

</div>
</div>
<a id="a80221375d80c88d040e42199d8eb34cb" name="a80221375d80c88d040e42199d8eb34cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80221375d80c88d040e42199d8eb34cb">&#9670;&#160;</a></span>init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static MainWP_REST_Authentication::init </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Init method.</p>
<dl class="section return"><dt>Returns</dt><dd>class instance. </dd></dl>

</div>
</div>
<a id="aaafbff83c7288f098a932f914b556672" name="aaafbff83c7288f098a932f914b556672"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaafbff83c7288f098a932f914b556672">&#9670;&#160;</a></span>is_request_to_rest_api()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">MainWP_REST_Authentication::is_request_to_rest_api </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Check if is request to our REST API.</p>
<dl class="section return"><dt>Returns</dt><dd>bool </dd></dl>

</div>
</div>
<a id="a954bd257e5a664efc619d17f70b00a74" name="a954bd257e5a664efc619d17f70b00a74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a954bd257e5a664efc619d17f70b00a74">&#9670;&#160;</a></span>is_valid_permissions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MainWP_REST_Authentication::is_valid_permissions </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$request</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Valid REST permissions.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">WP_REST_Request</td><td class="paramname">$request</td><td>Request used to generate the response.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>mixed user rest data. </dd></dl>

</div>
</div>
<a id="afa5e7088d7491ed5fc331f04695d0fcd" name="afa5e7088d7491ed5fc331f04695d0fcd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa5e7088d7491ed5fc331f04695d0fcd">&#9670;&#160;</a></span>parse_auth_header()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MainWP_REST_Authentication::parse_auth_header </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$header</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Parse the Authorization header into parameters.</p>
<dl class="section since"><dt>Since</dt><dd>3.0.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$header</td><td>Authorization header value (not including "Authorization: " prefix).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>array Map of parameter values. </dd></dl>

</div>
</div>
<a id="a079678921929ff1c472bb6079bf20688" name="a079678921929ff1c472bb6079bf20688"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a079678921929ff1c472bb6079bf20688">&#9670;&#160;</a></span>parse_header()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MainWP_REST_Authentication::parse_header </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$header</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Parse the Authorization header into parameters.</p>
<dl class="section since"><dt>Since</dt><dd>3.0.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$header</td><td>Authorization header value (not including "Authorization: " prefix).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>array Map of parameter values. </dd></dl>

</div>
</div>
<a id="a854a3b84418f4f3e3f33d955454b434f" name="a854a3b84418f4f3e3f33d955454b434f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a854a3b84418f4f3e3f33d955454b434f">&#9670;&#160;</a></span>send_unauthorized_headers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MainWP_REST_Authentication::send_unauthorized_headers </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$response</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>If the consumer_key and consumer_secret $_GET parameters are NOT provided and the Basic auth headers are either not present or the consumer secret does not match the consumer key provided, then return the correct Basic headers and an error message.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">WP_REST_Response</td><td class="paramname">$response</td><td>Current response being served. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>WP_REST_Response </dd></dl>

</div>
</div>
<a id="a7a77a0b0a5fecc2de98821099d3a4067" name="a7a77a0b0a5fecc2de98821099d3a4067"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a77a0b0a5fecc2de98821099d3a4067">&#9670;&#160;</a></span>set_error()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">MainWP_REST_Authentication::set_error </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$error</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Set authentication error.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">WP_Error</td><td class="paramname">$error</td><td>Authentication error data. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a6fb7023d46883868e1327f4535b55168" name="a6fb7023d46883868e1327f4535b55168"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6fb7023d46883868e1327f4535b55168">&#9670;&#160;</a></span>$auth_method</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">MainWP_REST_Authentication::$auth_method = ''</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a8f1014d53946fc4235ba12a3f061e9ea" name="a8f1014d53946fc4235ba12a3f061e9ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f1014d53946fc4235ba12a3f061e9ea">&#9670;&#160;</a></span>$error</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">MainWP_REST_Authentication::$error = null</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a5066f8475d0a4a391cb104f4919cfdff" name="a5066f8475d0a4a391cb104f4919cfdff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5066f8475d0a4a391cb104f4919cfdff">&#9670;&#160;</a></span>$instance</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">MainWP_REST_Authentication::$instance = null</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="affbe7d3023ec09d5e3f68cf6abfb09c5" name="affbe7d3023ec09d5e3f68cf6abfb09c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#affbe7d3023ec09d5e3f68cf6abfb09c5">&#9670;&#160;</a></span>$user</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">MainWP_REST_Authentication::$user = null</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>includes/rest-api/<a class="el" href="class-mainwp-rest-authentication_8php.html">class-mainwp-rest-authentication.php</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_main_w_p___r_e_s_t___authentication.html">MainWP_REST_Authentication</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
